(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){},149:function(e,t,n){},171:function(e,t,n){e.exports=n(381)},180:function(e,t,n){},182:function(e,t,n){},280:function(e,t,n){},282:function(e,t,n){},349:function(e,t,n){},377:function(e,t,n){},381:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(43),o=n.n(c),i=n(31),u=n(25),l=n(151),s=n(37),v={venues:[],fetching:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_VENUE":return{venues:e.venues.filter(function(e){return e.venue.name!==t.payload.name}),fetching:!1};case"FETCH_VENUES":return Object(s.a)({},e,{fetching:!0});case"FETCH_VENUES_SUCCESS":return Object(s.a)({},e,{fetching:!1,venues:t.payload.venues});case"FETCH_VENUES_FAILURE":return Object(s.a)({},e,{fetching:!1,error:t.payload.error});default:return e}},m=n(76),d={favorites:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":var n=t.payload.item,a=[].concat(Object(m.a)(e.favorites),[n]);return Object(s.a)({},e,{favorites:Object(m.a)(a)});case"REMOVE_FAVORITE":var r=t.payload.item,c=e.favorites.filter(function(e){return e.name!==r.name});return Object(s.a)({},e,{favorites:Object(m.a)(c)});default:return e}},p=Object(u.combineReducers)({venueList:h,favoriteList:f}),E=[l.a],g=Object(u.compose)(u.applyMiddleware.apply(void 0,E)),O=Object(u.createStore)(p,g),b=(n(180),n(28)),j=n(29),y=n(32),C=n(30),N=n(33),F=(n(182),n(51)),D=n(102),S=n(390),V=n(392),k=n(391),A=n(152),w=n.n(A),R=n(44);n(280);var I=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.connectDragSource,a=e.venue,c=t?0:1;return n(r.a.createElement("div",{className:"card",style:{opacity:c}},r.a.createElement("h4",null,a.location.city),r.a.createElement("h3",null,a.name)))}}]),t}(a.Component),M=Object(R.DragSource)("item",{beginDrag:function(e){return e.venue},endDrag:function(e,t,n){if(t.didDrop())return e.handleDrop(e.venue.name),e.addFavorite(e.venue),""}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(I),L=n(389),T=(n(282),function(e){var t=e.searchWord,n=e.handleInputChange,a=e.handleClick;return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement(L.a,{size:"massive",value:t,placeholder:"Type city: lviv, kyiv..",onChange:n}),r.a.createElement("button",{className:"search-button",disabled:t,type:"submit",onClick:a},"Search"))}),_=(n(145),function(e){var t=e.venues,n=e.handleDrop,a=e.searchWord,c=e.handleClick,o=e.onAddFavorite,i=e.handleInputChange;return r.a.createElement("div",{className:"venues"},r.a.createElement("p",{className:"search-header"},"Search by city name:"),r.a.createElement(T,{searchWord:a,handleInputChange:i,handleClick:c}),r.a.createElement("div",{className:"card-wrapper"},t&&t.map(function(e,t){return r.a.createElement(M,{key:t,venue:e.venue,handleDrop:n,addFavorite:o})})))}),U=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(C.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;n.setState({searchWord:t})},n.handleClick=function(){var e=n.state.searchWord,t=n.props.onFetchVenues;e&&t(e)},n.handleDrop=function(e){(0,n.props.onRemoveVenue)(e)},n.state={searchWord:""},n}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.venues,n=e.searchWord,a=e.fetching,c=e.onAddFavorite;return r.a.createElement(_,{venues:t,fetching:a,searchWord:n,handleClick:this.handleClick,handleInputChange:this.handleInputChange,handleDrop:this.handleDrop,onAddFavorite:c})}}]),t}(a.Component),H=function(e){return{type:"ADD_FAVORITE",payload:{item:e}}},W=Object(i.b)(function(e){return{venues:e.venueList.venues,fetching:e.venueList.fetching}},function(e){return{onFetchVenues:function(t){return e(function(e){return function(t){t({type:"FETCH_VENUES"});var n="https://api.foursquare.com/v2/venues/explore?near=".concat(e,"&section=food&client_id=").concat("HXYXXXE0OVLM50ICE2Q4JLLYEFISC2LAPNNYLBPX3TNXEKII","&client_secret=").concat("U0HAMWPLJV2FLHCRAXY0CKW2DJ1ERGUSH303FD3QJZPHED3R","&v=20181018");fetch(n).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_VENUES_SUCCESS",payload:{venues:e.response.groups[0].items}})}).catch(function(e){return console.log(e)})}}(t))},onRemoveVenue:function(t){return e(function(e){return{type:"REMOVE_VENUE",payload:{name:e}}}(t))},onAddFavorite:function(t){return e(H(t))}}})(U),P=n(388),x=n(53),X=(n(349),function(e){var t=e.connectDropTarget,n=e.hovered?"lightgreen":"white";return t(r.a.createElement("div",{className:"target"},r.a.createElement(P.a,{to:"/favorites"},r.a.createElement(x.a,{icon:"bookmark",color:n,size:"5x"})),r.a.createElement("h5",null,"Drag here")))});var J=Object(R.DropTarget)("item",{},function(e,t){return{connectDropTarget:e.dropTarget(),hovered:t.isOver()}})(X),z=n(159),Y=function(e){var t=e.fetching;return r.a.createElement(z.PropagateLoader,{color:"#ffff",loading:t})},B=Object(R.DragDropContext)(w.a)(function(e){var t=e.fetching;return r.a.createElement("div",null,r.a.createElement("span",{className:"spinner-wrapper"},r.a.createElement(Y,{fetching:t,className:"spinner"})),r.a.createElement("h2",{className:"search-venues"}," * VENUES SEARCH *"),r.a.createElement("div",{className:"venues-wrapper"},r.a.createElement(J,null),r.a.createElement(W,null)))}),K=Object(i.b)(function(e){return{fetching:e.venueList.fetching}})(B),Q=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignUp"))},q=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignIn"))},G=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"ForgetPassword"))},Z=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Account"))},$=function(e){var t=e.venue,n=e.hover,a=e.deleteFavorite,c=e.handleMouseOut,o=e.handleMouseOver;return r.a.createElement("div",{className:"favorite-item"},r.a.createElement("div",{className:"delete-icon"},n?r.a.createElement(x.a,{size:"4x",color:"red",className:"icon",icon:"times-circle",onMouseLeave:c,onClick:a(t)}):r.a.createElement(x.a,{size:"4x",color:"gold",icon:"bookmark",onMouseOver:o})),r.a.createElement("h4",null,t.location.city),r.a.createElement("h3",null,t.name))},ee=(n(377),function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(C.a)(t).call(this,e))).deleteFavorite=function(e){return function(){(0,n.props.onRemoveFavorite)(e)}},n.handleMouseOver=function(){n.setState({hover:!0})},n.handleMouseOut=function(){n.setState({hover:!1})},n.state={hover:!1},n}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.state.hover,n=this.props.favorites,a=n.map(function(n,a){return r.a.createElement($,{key:a,venue:n,hover:t,deleteFavorite:e.deleteFavorite,handleMouseOut:e.handleMouseOut,handleMouseOver:e.handleMouseOver})});return r.a.createElement("div",{className:"favorite-wrapper"},r.a.createElement("h2",{className:"favorite-venues"},"* FAVORITE VENUES *"),n.length>0?a:r.a.createElement("h3",null,"Add something to your favorites !"))}}]),t}(a.Component)),te=Object(i.b)(function(e){return{favorites:e.favoriteList.favorites}},function(e){return{onAddFavorite:function(t){return e(H(t))},onRemoveFavorite:function(t){return e(function(e){return{type:"REMOVE_FAVORITE",payload:{item:e}}}(t))}}})(ee),ne=(n(149),function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null," ",r.a.createElement(P.a,{to:"/"},"Venues search")," "),r.a.createElement("li",null," ",r.a.createElement(P.a,{to:"/favorites"},"Favorites")," ")))}),ae=function(){return r.a.createElement(S.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(ne,null),r.a.createElement(V.a,null,r.a.createElement(k.a,{exact:!0,path:"/",component:K}),r.a.createElement(k.a,{path:"/signup",component:Q}),r.a.createElement(k.a,{path:"/signin",component:q}),r.a.createElement(k.a,{path:"/pw-forget",component:G}),r.a.createElement(k.a,{path:"/account",component:Z}),r.a.createElement(k.a,{path:"/favorites",component:te}))))},re=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return F.b.add(D.a,D.b),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(ae,null)))}}]),t}(a.Component);o.a.render(r.a.createElement(i.a,{store:O},r.a.createElement(re,null)),document.getElementById("root"))}},[[171,2,1]]]);
//# sourceMappingURL=main.7b71267e.chunk.js.map