(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,n){},188:function(e,t,n){},210:function(e,t,n){e.exports=n(457)},219:function(e,t,n){},221:function(e,t,n){},319:function(e,t,n){},321:function(e,t,n){},388:function(e,t,n){},453:function(e,t,n){},457:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(50),o=n.n(c),i=n(32),l=n(25),u=n(190),s=n(39),v={venues:[],fetching:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_VENUE":return{venues:e.venues.filter(function(e){return e.venue.name!==t.payload.name}),fetching:!1};case"FETCH_VENUES":return Object(s.a)({},e,{fetching:!0});case"FETCH_VENUES_SUCCESS":return Object(s.a)({},e,{fetching:!1,venues:t.payload.venues});case"FETCH_VENUES_FAILURE":return Object(s.a)({},e,{fetching:!1,error:t.payload.error});default:return e}},m=n(89),d={favorites:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":var n=t.payload.item,a=Object(m.a)(e.favorites).concat([n]);return Object(s.a)({},e,{favorites:Object(m.a)(a)});case"REMOVE_FAVORITE":var r=t.payload.item,c=e.favorites.filter(function(e){return e.name!==r.name});return Object(s.a)({},e,{favorites:Object(m.a)(c)});default:return e}},f=Object(l.combineReducers)({venueList:h,favoriteList:E}),p=[u.a],g=Object(l.compose)(l.applyMiddleware.apply(void 0,p)),O=Object(l.createStore)(f,g),b=(n(219),n(29)),j=n(30),y=n(33),C=n(31),N=n(34),D=(n(221),n(59)),F=n(131),S=n(466),V=n(468),A=n(467),k=n(191),R=n.n(k),T=n(51);n(319);var w=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.connectDragSource,a=e.venue,c=t?0:1;return n(r.a.createElement("div",{className:"card",style:{opacity:c}},r.a.createElement("h4",null,a.location.city),r.a.createElement("h3",null,a.name)))}}]),t}(a.Component),I=Object(T.DragSource)("item",{beginDrag:function(e){return e.venue},endDrag:function(e,t,n){if(t.didDrop())return e.handleDrop(e.venue.name),e.addFavorite(e.venue),""}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(w),M=n(465),U=(n(321),function(e){var t=e.searchWord,n=e.handleInputChange,a=e.handleClick;return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement(M.a,{size:"massive",value:t,placeholder:"Type city: lviv, kyiv..",onChange:n}),r.a.createElement("button",{className:"search-button",disabled:t,type:"submit",onClick:a},"Search"))}),L=(n(173),function(e){var t=e.venues,n=e.handleDrop,a=e.searchWord,c=e.handleClick,o=e.onAddFavorite,i=e.handleInputChange;return r.a.createElement("div",{className:"venues"},r.a.createElement("p",{className:"search-header"},"Search by city name:"),r.a.createElement(U,{searchWord:a,handleInputChange:i,handleClick:c}),r.a.createElement("div",{className:"card-wrapper"},t&&t.map(function(e,t){return r.a.createElement(I,{key:t,venue:e.venue,handleDrop:n,addFavorite:o})})))}),_=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(C.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value;n.setState({searchWord:t})},n.handleClick=function(){var e=n.state.searchWord,t=n.props.onFetchVenues;e&&t(e)},n.handleDrop=function(e){(0,n.props.onRemoveVenue)(e)},n.state={searchWord:""},n}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.venues,n=e.searchWord,a=e.fetching,c=e.onAddFavorite;return r.a.createElement(L,{venues:t,fetching:a,searchWord:n,handleClick:this.handleClick,handleInputChange:this.handleInputChange,handleDrop:this.handleDrop,onAddFavorite:c})}}]),t}(a.Component),H=function(e){return{type:"ADD_FAVORITE",payload:{item:e}}},W=Object(i.b)(function(e){return console.log("REDUX STATE",e),{venues:e.venueList.venues,fetching:e.venueList.fetching}},function(e){return{onFetchVenues:function(t){return e(function(e){return function(t){t({type:"FETCH_VENUES"});var n="https://api.foursquare.com/v2/venues/explore?near=".concat(e,"&section=food&client_id=").concat("HXYXXXE0OVLM50ICE2Q4JLLYEFISC2LAPNNYLBPX3TNXEKII","&client_secret=").concat("U0HAMWPLJV2FLHCRAXY0CKW2DJ1ERGUSH303FD3QJZPHED3R","&v=20181018");fetch(n).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_VENUES_SUCCESS",payload:{venues:e.response.groups[0].items}})}).catch(function(e){return console.log(e)})}}(t))},onRemoveVenue:function(t){return e(function(e){return{type:"REMOVE_VENUE",payload:{name:e}}}(t))},onAddFavorite:function(t){return e(H(t))}}})(_),X=n(464),P=n(61),x=(n(388),function(e){var t=e.connectDropTarget,n=e.hovered?"lightgreen":"white";return t(r.a.createElement("div",{className:"target"},r.a.createElement(X.a,{to:"/favorites"},r.a.createElement(P.a,{icon:"bookmark",color:n,size:"5x"})),r.a.createElement("h5",null,"Drag here")))});var J=Object(T.DropTarget)("item",{},function(e,t){return{connectDropTarget:e.dropTarget(),hovered:t.isOver()}})(x),z=n(198),Y=function(e){var t=e.fetching;return r.a.createElement(z.PropagateLoader,{color:"#ffff",loading:t})},B=Object(T.DragDropContext)(R.a)(function(e){var t=e.fetching;return r.a.createElement("div",null,r.a.createElement("span",{className:"spinner-wrapper"},r.a.createElement(Y,{fetching:t,className:"spinner"})),r.a.createElement("h2",{className:"search-venues"}," * VENUES SEARCH *"),r.a.createElement("div",{className:"venues-wrapper"},r.a.createElement(J,null),r.a.createElement(W,null)))}),K=Object(i.b)(function(e){return{fetching:e.venueList.fetching}})(B),Q=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignUp"))},q=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignIn"))},G=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"ForgetPassword"))},Z=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Account"))},$=function(e){var t=e.venue,n=e.hover,a=e.deleteFavorite,c=e.handleMouseOut,o=e.handleMouseOver;return r.a.createElement("div",{className:"favorite-item"},r.a.createElement("div",{className:"delete-icon"},n?r.a.createElement(P.a,{size:"4x",color:"red",className:"icon",icon:"times-circle",onMouseLeave:c,onClick:a(t)}):r.a.createElement(P.a,{size:"4x",color:"gold",icon:"bookmark",onMouseOver:o})),r.a.createElement("h4",null,t.location.city),r.a.createElement("h3",null,t.name))},ee=(n(453),function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(C.a)(t).call(this,e))).deleteFavorite=function(e){return function(){(0,n.props.onRemoveFavorite)(e)}},n.handleMouseOver=function(){n.setState({hover:!0})},n.handleMouseOut=function(){n.setState({hover:!1})},n.state={hover:!1},n}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.state.hover,n=this.props.favorites,a=n.map(function(n,a){return r.a.createElement($,{key:a,venue:n,hover:t,deleteFavorite:e.deleteFavorite,handleMouseOut:e.handleMouseOut,handleMouseOver:e.handleMouseOver})});return r.a.createElement("div",{className:"favorite-wrapper"},r.a.createElement("h2",{className:"favorite-venues"},"* FAVORITE VENUES *"),n.length>0?a:r.a.createElement("h3",null,"Add something to your favorites !"))}}]),t}(a.Component)),te=Object(i.b)(function(e){return console.log("REDUX STATE**",e),{favorites:e.favoriteList.favorites}},function(e){return{onAddFavorite:function(t){return e(H(t))},onRemoveFavorite:function(t){return e(function(e){return{type:"REMOVE_FAVORITE",payload:{item:e}}}(t))}}})(ee),ne=(n(188),function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null," ",r.a.createElement(X.a,{to:"/"},"Venues search")," "),r.a.createElement("li",null," ",r.a.createElement(X.a,{to:"/favorites"},"Favorites")," ")))}),ae=function(){return r.a.createElement(S.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(ne,null),r.a.createElement(V.a,null,r.a.createElement(A.a,{exact:!0,path:"/",component:K}),r.a.createElement(A.a,{path:"/signup",component:Q}),r.a.createElement(A.a,{path:"/signin",component:q}),r.a.createElement(A.a,{path:"/pw-forget",component:G}),r.a.createElement(A.a,{path:"/account",component:Z}),r.a.createElement(A.a,{path:"/favorites",component:te}))))},re=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return D.b.add(F.a,F.b),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(ae,null)))}}]),t}(a.Component);o.a.render(r.a.createElement(i.a,{store:O},r.a.createElement(re,null)),document.getElementById("root"))}},[[210,2,1]]]);
//# sourceMappingURL=main.b95a6f1f.chunk.js.map